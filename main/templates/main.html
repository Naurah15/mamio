{% extends 'base.html' %}
{% load static %}

{% block meta %}
<title>MAMIO</title>
{% endblock meta %}

{% block content %}
{% include 'navbar.html' %}
<div class="overflow-x-hidden px-4 md:px-8 pb-8 pt-24 min-h-screen flex flex-col bg-gradient-to-b from-pink-300 to-white">

  <!-- User Information Section -->
  <div class="p-2 mb-6 relative">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 z-30">
      {% include "card_info.html" with title='NPM' value=npm %}
      {% include "card_info.html" with title='Name' value=name %}
      {% include "card_info.html" with title='Class' value=class %}
    </div>
  </div>

<!-- Store Description Section -->
<div class="mb-6 p-4 bg-gradient-to-b from-pink-400 to-pink-300 shadow-md rounded-lg"> 
  <h2 class="text-2xl font-bold text-gray-800">About Mamio</h2> 
  <p class="mt-2 text-gray-700"> 
    Welcome to Mamio! 🍽️ Our cozy restaurant is dedicated to providing you with a delightful culinary experience. We offer a diverse menu of high-quality dishes, each crafted with love and passion by our talented chefs. From comforting classics to innovative creations, there's something for everyone at Mamio! 🌟
  </p>
  <p class="mt-2 text-gray-700"> 
    Our mission is to nourish your body and soul, enhancing your mental health journey with wholesome meals made from the freshest ingredients. Join us in our vibrant atmosphere, and let’s create beautiful memories together over delicious food! 🎉
  </p>
</div>



  <!-- Add New Item Button -->
  <div class="flex justify-end mb-6">
    <a href="{% url 'main:create_item' %}" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-105">
      🛒 Add New Item
    </a>
  </div>

  <!-- Item Entries Section -->
  <div class="flex-grow">
    {% if not item_entries %}
    <div class="flex flex-col items-center justify-center min-h-[24rem] p-6">
      <img src="{% static 'image/image.png' %}" alt="Sad face" class="w-32 h-32 mb-4"/>
      <p class="text-center text-gray-600 mt-4">🍽️Order yuk!!🍽️</p>
    </div>
    {% else %}
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {% for item_entry in item_entries %}
      <div class="relative break-inside-avoid">
        <div class="bg-gradient-to-r from-pink-400 to-blue-300 shadow-lg rounded-lg mb-6 break-inside-avoid flex flex-col border-2 border-blue-300 transform rotate-1 hover:scale-105 transition-transform duration-300">
          <div class="bg-pink-400 text-gray-800 p-4 rounded-t-lg border-b-2 border-blue-700"> <!-- Set header color to pink -->
            <h3 class="font-bold text-xl mb-2">🍽️ {{ item_entry.name }} 🍽️</h3>  <!-- Tambahkan emoji -->
            <p class="text-gray-600">💰Price: Rp.{{ item_entry.final_price|floatformat:2 }} (after discount) </p>
            <p class="text-gray-600">📦Stock: {{ item_entry.stock }} </p>
            <p class="text-gray-600">🏷️Category: {{ item_entry.category }} </p>
          </div>
          <div class="p-4">
            <p class="font-semibold text-lg mb-2">🌟Description </p> 
            <p class="text-gray-700 mb-2">{{ item_entry.description }}</p>
            <p class="text-gray-700 font-semibold mb-2">⭐Rating: {{ item_entry.rating }} </p>
            <p class="text-gray-700 font-semibold mb-2">🎉Discount: {{ item_entry.discount }}% </p>
          </div>
        </div>
        <div class="flex justify-end space-x-4 mt-4">
          <!-- Tombol Edit -->
          <a href="{% url 'main:edit_item' item_entry.pk %}" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-lg transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-105">
            ✏️ Edit
          </a>
          
          <!-- Tombol Delete -->
          <a href="{% url 'main:delete_item' item_entry.pk %}" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-105">
            🗑️ Delete
          </a>
        </div>
      </div>
      {% endfor %}
    </div>
    {% endif %}
  </div>

  <!-- Last Login Information (Moved to the bottom) -->
  <div class="px-3 mt-10 mb-4">
    <div class="flex rounded-md items-center bg-blue-300 py-2 px-4 w-fit">
      <h1 class="text-gray-800 text-center">Last Login: {{last_login}}</h1>
    </div>
  </div>
</div>

{% endblock content %}
